<div class="flex h-fit w-72 flex-shrink-0 flex-col rounded-lg bg-slate-800/50 p-3">
    <div class="mb-3 flex items-center justify-between">
        <h2 class="text-sm font-semibold text-white">{{title}}</h2>
        @if (listId) {
        <button
            class="inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-8 w-fit hover:bg-accent hover:text-accent-foreground justify-left text-slate-400 px-4 py-2"
            (click)="deleteList()">üóëÔ∏è</button>
        }
    </div>
    @if (listId){
    <div class="flex flex-col space-y-2">
        @for (card of cardsQuery.isSuccess() ? cardsQuery.data(): []; track card.id) {
        <app-input id="{{card.id}}" listId="{{card.listId}}" title="{{card.title}}"
            description="{{card.description}}" />
        }
    </div>
    } @else{
    <div class="flex flex-col space-y-2">
        @for (card of allCardsQuery.isSuccess() ? allCardsQuery.data(): []; track card.id) {
        <app-input id="{{card.id}}" listId="{{card.listId}}" title="{{card.title}}"
            description="{{card.description}}" />
        }
    </div>
    }
    @if (isAddingCard) {
    <div class="mt-2 space-y-2">
        <input type="text"
            class="flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm bg-white"
            [(ngModel)]="newTitle" placeholder="Enter card title..." />
        <div class="flex items-center space-x-2">
            <button
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2"
                (click)="handleAddCard()"><span class="bold">+</span> Add card</button>
            <button
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground text-slate-400 px-4 py-2"
                (click)="setIsAddingCard(false)">Cancel</button>
        </div>
    </div>
    } @else{
    <button
        class="inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground mt-2 justify-left text-slate-400 px-4 py-2"
        (click)="setIsAddingCard(true)">Add card</button>
    }
</div>