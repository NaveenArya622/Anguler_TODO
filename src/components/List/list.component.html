<div class="flex h-fit w-full sm:w-72 flex-shrink-0 flex-col rounded-lg bg-slate-800/50 p-3" (mouseenter)="enter()">
    <div class="mb-3 flex items-center justify-between">
        @if (listType === ""){
        <span
            class="[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-4 w-4 justify-left text-slate-400 hover:text-slate-400">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list">
                <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
                <path d="M12 11h4" />
                <path d="M12 16h4" />
                <path d="M8 11h.01" />
                <path d="M8 16h.01" />
            </svg>
        </span>
        }
        @if (listType === "created"){
        <span
            class="[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-4 w-4 justify-left text-slate-200 hover:text-slate-200">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-pen">
                <rect width="8" height="4" x="8" y="2" rx="1" />
                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5" />
                <path d="M4 13.5V6a2 2 0 0 1 2-2h2" />
                <path
                    d="M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z" />
            </svg>
        </span>
        }
        @if (listType === "todo"){
        <span
            class="[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-4 w-4 justify-left text-yellow-400 hover:yellow-slate-400">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-check">
                <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
                <path d="m9 14 2 2 4-4" />
            </svg>
        </span>
        }
        @if (listType === "pending"){
        <span
            class="[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-4 w-4 justify-left text-orange-400 hover:text-orange-400">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock-arrow-up">
                <path d="M13.228 21.925A10 10 0 1 1 21.994 12.338" />
                <path d="M12 6v6l1.562.781" />
                <path d="m14 18 4-4 4 4" />
                <path d="M18 22v-8" />
            </svg>
        </span>
        }
        @if (listType === "done"){
        <span
            class="[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-4 w-4 justify-left text-green-400 hover:text-green-400">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check-big">
                <path d="M21.801 10A10 10 0 1 1 17 3.335" />
                <path d="m9 11 3 3L22 4" />
            </svg>
        </span>
        }
        @if (listType === "expired"){
        <span
            class="[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-4 w-4 justify-left text-red-400 hover:text-red-400">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock-arrow-down">
                <path d="M12.338 21.994A10 10 0 1 1 21.925 13.227" />
                <path d="M12 6v6l2 1" />
                <path d="m14 18 4 4 4-4" />
                <path d="M18 14v8" />
            </svg>
        </span>
        }
        <h2 class="text-sm font-semibold text-white">{{title}}</h2>
        @if (listId) {
        <button
            class="inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-8 w-fit hover:bg-accent hover:text-accent-foreground justify-left text-slate-400 px-4 py-2"
            (click)="deleteList()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash">
                <path d="M3 6h18" />
                <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
            </svg>
        </button>
        }
        @else{
        <div></div>
        }
    </div>
    @if (listId){
    <div class="flex flex-col space-y-2">
        @for (card of cardsQuery.isSuccess() ? cardsQuery.data(): []; track card.id) {
        <app-input id="{{card.id}}" listId="{{card.listId}}" title="{{card.title}}"
            description="{{card.description}}" (updateCurrentCardIdEvent)="updateCurrentCardId($event)"/>
        }
    </div>
    } @else{
    <div class="flex flex-col space-y-2">
        @for (card of allCardsQuery.isSuccess() ? allCardsQuery.data(): []; track card.id) {
        <app-input id="{{card.id}}" listId="{{card.listId}}" title="{{card.title}}"
            description="{{card.description}}" (updateCurrentCardIdEvent)="updateCurrentCardId($event)"/>
        }
    </div>
    }
    @if (isAddingCard) {
    <div class="mt-2 space-y-2">
        <input type="text"
            class="flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm bg-white"
            [(ngModel)]="newTitle" placeholder="Enter card title..." />
        <div class="flex items-center space-x-2">
            <button
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2"
                (click)="handleAddCard()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus">
                    <path d="M5 12h14" />
                    <path d="M12 5v14" />
                </svg>
                Add card
            </button>
            <button
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground text-slate-400 px-4 py-2"
                (click)="setIsAddingCard(false)">Cancel</button>
        </div>
    </div>
    } @else{
    <button
        class="inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground mt-2 justify-left text-slate-400 px-4 py-2"
        (click)="setIsAddingCard(true)">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus">
            <path d="M5 12h14" />
            <path d="M12 5v14" />
        </svg>
        Add card
    </button>
    }
</div>